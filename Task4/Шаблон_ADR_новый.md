### <a name="_b7urdng99y53"></a>**Название задачи:** Передача ставок в кол-центр
### <a name="_hjk0fkfyohdk"></a>**Автор:** Уфимцев Артем Сергеевич
### <a name="_uanumrh8zrui"></a>**Дата:** 13.07.2025
### <a name="_3bfxc9a45514"></a>**Функциональные требования**

|**№**|**Действующие лица или системы**|**Use Case**| **Описание**                                                                                                                                                                                                                                                                                                                                                     |
| :-: | :- | :- |:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  UC1  | Пользователь, <br/>Менеджер кол-центра, <br/>Сайт, <br/>CRM                                            | Подача заявки на депозит через сайт     | 1. Пользователь сайта видит список доступных депозитов с актуальными ставками.<br/>2. Пользователь сайта подаёт заявку на депозит, оставив свой телефон и ФИО.<br/>3. Заявка сохраняется в CRM-систему и ожидает обработки.<br/>4. Менеджер кол-центра перезванивает и на основе данных о доступных ставках из CRM консультирует клиента по доступным депозитам. |
### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**

| **№** | **Требование**                                                                                                                    |
|:-----:|:----------------------------------------------------------------------------------------------------------------------------------|
|  +R1  | Текущие ставки по депозитам вынести в новый микросервис.                                                                          |
|  +R2  | Реализовать в системе CRM доступ к АПИ сервиса по депозитам.                                                                      |
|  +R3  | Настроить в сервисе по депозитам регламентное задание по отправке файлов с актуальными ставками на Email партнёрского кол-центра. |
### <a name="_qmphm5d6rvi3"></a>**Решение**
C4Context.drawio - диаграмма контекста

C4Container.drawio - диаграмма контейнера

При принятии решения учитывалась необходимость в будущем автоматизировать процесс принятия решения о депозите, а так же простоту реализации интерфейса для получения актуальных ставок.
Так же учтены ограничения на получение актуальных ставок партнёрским кол-центром - решено создать регламентное задание на рассылку файлов со ставками на выделенный Email партнёрского кол-центра через защищенный внешний SMTP-сервер.
Внесение изменений в CRM будет реализовано силами специалистов из команды АБС с опытом в Java-стеке.
### <a name="_bjrr7veeh80c"></a>**Альтернативы**
1. Реализация прямого запроса к БД АБС. Сложный и небезопасный способ (сложнее чем HTTP-запрос к АПИ).

**Недостатки, ограничения, риски**
Передача файлов с актуальными ставками по Email потенциально небезопасна, но если их передавать через защищённый SMTP-сервер, риски минимальны.